# ì‹ ë…„ê³„íš ê´€ë¦¬ ì›¹ ì„œë¹„ìŠ¤

> "ê³„íš â†’ ì‹¤í–‰ â†’ íšŒê³ " íë¦„ì„ êµ¬í˜„í•œ PHP 8 ê¸°ë°˜ ëª©í‘œ ê´€ë¦¬ ì‹œìŠ¤í…œ

## ğŸš€ ë°°í¬ URL

**https://new-year-plan.up.railway.app/login.php**

í…ŒìŠ¤íŠ¸ ê³„ì •: `test1@test.com` / `test1234`

## í”„ë¡œì íŠ¸ ì†Œê°œ

ì‹ ë…„ê³„íš ê´€ë¦¬ ì›¹ ì„œë¹„ìŠ¤ëŠ” ì‚¬ìš©ìê°€ ì—°ê°„ ëª©í‘œë¥¼ ì„¤ì •í•˜ê³ , ì´ë¥¼ ë¶„ê¸° ë° ì›” ë‹¨ìœ„ë¡œ êµ¬ì¡°í™”í•˜ì—¬ ê´€ë¦¬í•˜ë©°, ì§„í–‰ ìƒí™©ì„ ì¶”ì í•˜ê³  íšŒê³ í•  ìˆ˜ ìˆëŠ” ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤.

ë‹¨ìˆœí•œ íˆ¬ë‘ë¦¬ìŠ¤íŠ¸ë¥¼ ë„˜ì–´ì„œ, **ëª©í‘œ ë¶„í•´ â†’ ê³„íš ìˆ˜ë¦½ â†’ ì§„í–‰ ì¶”ì  â†’ íšŒê³  ì‘ì„±**ì´ë¼ëŠ” ì™„ì „í•œ ëª©í‘œ ë‹¬ì„± ì‚¬ì´í´ì„ ì§€ì›í•©ë‹ˆë‹¤.

### ì£¼ìš” íŠ¹ì§•

- **ìë™ ê³„íš ë¶„í•´**: ëª©í‘œ ìƒì„± ì‹œ 12ê°œì›” ê³„íšì„ ìë™ìœ¼ë¡œ ìƒì„±í•˜ê³  ë¶„ê¸°ë³„ë¡œ ê·¸ë£¹í™”
- **ì‹¤ì‹œê°„ ì§„í–‰ë¥  ê³„ì‚°**: ì„œë²„ ì¸¡ì—ì„œ ì™„ë£Œëœ ê³„íšì„ ê¸°ë°˜ìœ¼ë¡œ ì§„í–‰ë¥ ì„ ìë™ ê³„ì‚°
- **íšŒê³  ì‹œìŠ¤í…œ**: ì›”ë³„/ëª©í‘œë³„ íšŒê³  ì‘ì„±ìœ¼ë¡œ ì„±ì°°ê³¼ ê°œì„  ì´‰ì§„
- **ì§ê´€ì ì¸ ëŒ€ì‹œë³´ë“œ**: í†µê³„ ë° ì‹œê°í™”ë¥¼ í†µí•œ ëª©í‘œ í˜„í™© í•œëˆˆì— íŒŒì•…

## ê¸°ìˆ  ìŠ¤íƒ

### Backend
- **PHP 8.x**: ìµœì‹  PHP ë¬¸ë²• í™œìš© (íƒ€ì… íŒíŒ…, ë„ ë³‘í•© ì—°ì‚°ì ë“±)
- **MySQL 8.0**: ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„ ë° íŠ¸ëœì­ì…˜ ì²˜ë¦¬
- **PDO**: SQL Injection ë°©ì§€ë¥¼ ìœ„í•œ Prepared Statements

### Frontend
- **HTML5/CSS3**: ì‹œë§¨í‹± ë§ˆí¬ì—… ë° ë°˜ì‘í˜• ë””ìì¸
- **Vanilla JavaScript**: í”„ë ˆì„ì›Œí¬ ì—†ëŠ” ìˆœìˆ˜ JavaScript
- **AJAX**: ë¹„ë™ê¸° í†µì‹ ì„ í†µí•œ UX ê°œì„ 

### ë³´ì•ˆ
- `password_hash()` / `password_verify()`: ë¹„ë°€ë²ˆí˜¸ ì•ˆì „í•œ í•´ì‹±
- PDO Prepared Statements: SQL Injection ë°©ì§€
- `htmlspecialchars()`: XSS ê³µê²© ë°©ì§€
- Session ê¸°ë°˜ ì¸ì¦: ë³´ì•ˆ ì„¸ì…˜ ê´€ë¦¬

## í•µì‹¬ ê¸°ëŠ¥

### 1. íšŒì› ì‹œìŠ¤í…œ
- íšŒì›ê°€ì… ë° ë¡œê·¸ì¸ (Session ê¸°ë°˜ ì¸ì¦)
- ë¹„ë°€ë²ˆí˜¸ í•´ì‹± ì²˜ë¦¬
- ì‚¬ìš©ìë³„ ë°ì´í„° ì™„ì „ ë¶„ë¦¬

### 2. ëª©í‘œ ê´€ë¦¬
- ëª©í‘œ ìƒì„±, ì¡°íšŒ, ìˆ˜ì •
- ì¹´í…Œê³ ë¦¬ë³„ ë¶„ë¥˜ (ì»¤ë¦¬ì–´, ê±´ê°•, í•™ìŠµ, ì¬ì •, ì·¨ë¯¸, ê´€ê³„ ë“±)
- ìƒíƒœ ê´€ë¦¬ (ë¯¸ì‹œì‘, ì§„í–‰ì¤‘, ì™„ë£Œ)

### 3. ê³„íš ë¶„í•´ ì‹œìŠ¤í…œ
- ëª©í‘œ ìƒì„± ì‹œ **ìë™ìœ¼ë¡œ 12ê°œì›” ê³„íš ìƒì„±**
- ë¶„ê¸°ë³„ ê·¸ë£¹í™” (Q1~Q4)
- ì›”ë³„ ê³„íš ì‘ì„± ë° ì™„ë£Œ ì²´í¬

### 4. ì§„í–‰ë¥  ê³„ì‚° ì—”ì§„
```php
// ìë™ ì§„í–‰ë¥  ê³„ì‚° ë¡œì§
ì§„í–‰ë¥  = (ì™„ë£Œëœ ì›” ê³„íš ìˆ˜ / ì „ì²´ 12ê°œì›”) Ã— 100

// íŠ¸ë¦¬ê±°ë¥¼ í†µí•œ ìë™ ì—…ë°ì´íŠ¸
ê³„íš ì™„ë£Œ ì²´í¬ â†’ DB íŠ¸ë¦¬ê±° ë°œë™ â†’ ëª©í‘œ ì§„í–‰ë¥  ìë™ ì—…ë°ì´íŠ¸
```

### 5. íšŒê³  ì‹œìŠ¤í…œ
- ì›”ë³„ íšŒê³  ì‘ì„±
- ëª©í‘œë³„ íšŒê³  ì—°ê²°
- ì—°ë§ ìš”ì•½ íšŒê³  (12ì›”)

### 6. ëŒ€ì‹œë³´ë“œ
- ì „ì²´ ëª©í‘œ í†µê³„
- ì¹´í…Œê³ ë¦¬ë³„ ë¶„í¬
- ì§„í–‰ ìƒí™© ì‹œê°í™”

## ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„

### ERD êµ¬ì¡°
```
users (ì‚¬ìš©ì)
  â†“ 1:N
goals (ëª©í‘œ)
  â†“ 1:N
goal_plans (ì›”ë³„ ê³„íš)

users â† reflections (íšŒê³ ) â†’ goals
```

### ì£¼ìš” í…Œì´ë¸”

#### users
- `id`: ì‚¬ìš©ì ê³ ìœ  ID (PK)
- `email`: ì´ë©”ì¼ (UNIQUE, ë¡œê·¸ì¸ ID)
- `password_hash`: í•´ì‹œëœ ë¹„ë°€ë²ˆí˜¸

#### goals
- `id`: ëª©í‘œ ê³ ìœ  ID (PK)
- `user_id`: ì‚¬ìš©ì FK
- `year`: ëª©í‘œ ì—°ë„
- `category`: ì¹´í…Œê³ ë¦¬ (ENUM)
- `status`: ìƒíƒœ (ENUM: not_started, in_progress, completed)
- `progress_percentage`: ì§„í–‰ë¥  (ìë™ ê³„ì‚°)

#### goal_plans
- `id`: ê³„íš ê³ ìœ  ID (PK)
- `goal_id`: ëª©í‘œ FK
- `quarter`: ë¶„ê¸° (1~4)
- `month`: ì›” (1~12)
- `is_completed`: ì™„ë£Œ ì—¬ë¶€
- **UNIQUE KEY**: (goal_id, month) - ì¤‘ë³µ ë°©ì§€

#### reflections
- `id`: íšŒê³  ê³ ìœ  ID (PK)
- `user_id`: ì‘ì„±ì FK
- `goal_id`: ëª©í‘œ FK (NULL í—ˆìš© - ì „ì²´ íšŒê³ )
- `year`, `month`: íšŒê³  ì‹œì 
- `content`: íšŒê³  ë‚´ìš©

## í•µì‹¬ êµ¬í˜„ ë¡œì§

### 1. ë¡œê·¸ì¸ ì²˜ë¦¬ (login.php)
```php
// ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ ê²€ì¦
$userModel = new User();
$user = $userModel->authenticate($email, $password);

if ($user) {
    // Session ê¸°ë°˜ ë¡œê·¸ì¸
    loginUser($user);
    redirect('dashboard.php');
}
```

### 2. ëª©í‘œ ìƒì„± + ìë™ ê³„íš ìƒì„± (Goal.php)
```php
public function create($userId, $year, $title, $description, $category)
{
    $this->db->beginTransaction();

    // 1. ëª©í‘œ ìƒì„±
    $goalId = INSERT INTO goals...

    // 2. 12ê°œì›” ê³„íš ìë™ ìƒì„±
    for ($month = 1; $month <= 12; $month++) {
        $quarter = ceil($month / 3);
        INSERT INTO goal_plans (goal_id, quarter, month)...
    }

    $this->db->commit();
    return $goalId;
}
```

### 3. ì§„í–‰ë¥  ìë™ ê³„ì‚° (Goal.php)
```php
public function updateProgress($goalId)
{
    // ì™„ë£Œëœ ê³„íš ìˆ˜ ì§‘ê³„
    $result = SELECT
        COUNT(*) as total,
        SUM(CASE WHEN is_completed = 1 THEN 1 ELSE 0 END) as completed
    FROM goal_plans
    WHERE goal_id = $goalId;

    // ì§„í–‰ë¥  ê³„ì‚°
    $progress = ($completed / $total) * 100;

    // ìƒíƒœ ìë™ ê²°ì •
    $status = $progress == 0 ? 'not_started'
            : ($progress == 100 ? 'completed' : 'in_progress');

    // ì—…ë°ì´íŠ¸
    UPDATE goals
    SET progress_percentage = $progress, status = $status
    WHERE id = $goalId;
}
```

### 4. DB íŠ¸ë¦¬ê±°ë¥¼ í†µí•œ ìë™í™” (schema.sql)
```sql
CREATE TRIGGER tr_update_progress_after_plan_update
AFTER UPDATE ON goal_plans
FOR EACH ROW
BEGIN
    -- ì§„í–‰ë¥  ì¬ê³„ì‚°
    UPDATE goals SET progress_percentage = ...
    WHERE id = NEW.goal_id;
END;
```

## í”„ë¡œì íŠ¸ êµ¬ì¡°

```
php-project/
â”œâ”€â”€ config/
â”‚   â””â”€â”€ database.php          # DB ì—°ê²° ì„¤ì •
â”œâ”€â”€ includes/
â”‚   â”œâ”€â”€ session.php           # ì„¸ì…˜ ê´€ë¦¬
â”‚   â””â”€â”€ functions.php         # ê³µí†µ í•¨ìˆ˜
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ User.php              # ì‚¬ìš©ì ëª¨ë¸
â”‚   â”œâ”€â”€ Goal.php              # ëª©í‘œ ëª¨ë¸
â”‚   â”œâ”€â”€ GoalPlan.php          # ê³„íš ëª¨ë¸
â”‚   â””â”€â”€ Reflection.php        # íšŒê³  ëª¨ë¸
â”œâ”€â”€ views/
â”‚   â”œâ”€â”€ login.php
â”‚   â”œâ”€â”€ register.php
â”‚   â”œâ”€â”€ dashboard.php
â”‚   â”œâ”€â”€ goal_list.php
â”‚   â”œâ”€â”€ goal_detail.php
â”‚   â””â”€â”€ reflection.php
â”œâ”€â”€ assets/
â”‚   â”œâ”€â”€ css/style.css
â”‚   â””â”€â”€ js/main.js
â””â”€â”€ database/
    â””â”€â”€ schema.sql            # DB ìŠ¤í‚¤ë§ˆ
```

## ì„¤ì¹˜ ë° ì‹¤í–‰ ë°©ë²•

### 1. í™˜ê²½ ìš”êµ¬ì‚¬í•­
- PHP 8.0 ì´ìƒ
- MySQL 8.0 ì´ìƒ
- Apache ë˜ëŠ” Nginx ì›¹ ì„œë²„

### 2. ì„¤ì¹˜ ë‹¨ê³„

```bash
# 1. í”„ë¡œì íŠ¸ í´ë¡ 
git clone [repository-url]

# 2. ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±
mysql -u root -p < database/schema.sql

# 3. DB ì—°ê²° ì„¤ì • (config/database.php)
define('DB_HOST', 'localhost');
define('DB_NAME', 'new_year_goals');
define('DB_USER', 'your_username');
define('DB_PASS', 'your_password');

# 4. ì›¹ ì„œë²„ ì‹¤í–‰
php -S localhost:8000
```

### 3. ì ‘ì†
ë¸Œë¼ìš°ì €ì—ì„œ `http://localhost:8000` ì ‘ì†

### 4. í…ŒìŠ¤íŠ¸ ê³„ì •
```
ì´ë©”ì¼: test1@test.com
ë¹„ë°€ë²ˆí˜¸: test1234
```

ë˜ëŠ” ìƒˆë¡œìš´ ê³„ì •ì„ íšŒì›ê°€ì…í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ê°œë°œ ì‹œ ê³ ë ¤í•œ ì 

### 1. ë³´ì•ˆ
- ëª¨ë“  ì‚¬ìš©ì ì…ë ¥ì— ëŒ€í•œ ê²€ì¦ ë° ì´ìŠ¤ì¼€ì´í”„
- SQL Injection ë°©ì§€ (PDO Prepared Statements)
- XSS ê³µê²© ë°©ì§€ (htmlspecialchars)
- ë¹„ë°€ë²ˆí˜¸ ì•ˆì „í•œ í•´ì‹± (bcrypt)

### 2. ì‚¬ìš©ì ê²½í—˜
- ì§ê´€ì ì¸ UI/UX ì„¤ê³„
- ì§„í–‰ ìƒí™© ì‹œê°í™” (ì§„í–‰ë¥  ë°”, ìƒ‰ìƒ êµ¬ë¶„)
- ë°˜ì‘í˜• ë””ìì¸ (ëª¨ë°”ì¼ ëŒ€ì‘)

### 3. ì½”ë“œ í’ˆì§ˆ
- PSR-12 ì½”ë”© í‘œì¤€ ì¤€ìˆ˜
- ë‹¨ì¼ ì±…ì„ ì›ì¹™ (ëª¨ë¸ë³„ íŒŒì¼ ë¶„ë¦¬)
- DRY ì›ì¹™ (í•¨ìˆ˜ ì¬ì‚¬ìš©)

### 4. ë°ì´í„°ë² ì´ìŠ¤ ìµœì í™”
- ì ì ˆí•œ ì¸ë±ìŠ¤ ì„¤ì •
- ì™¸ë˜í‚¤ ì œì•½ì¡°ê±´ìœ¼ë¡œ ë°ì´í„° ë¬´ê²°ì„± ë³´ì¥
- íŠ¸ë¦¬ê±°ë¥¼ í†µí•œ ìë™í™”

## í™•ì¥ ê°€ëŠ¥ì„±

### ë‹¨ê¸° ê°œì„  ì‚¬í•­
- ëª©í‘œ ìš°ì„ ìˆœìœ„ ì„¤ì •
- ëª©í‘œ íƒœê·¸ ì‹œìŠ¤í…œ
- í†µê³„ ì°¨íŠ¸ (Chart.js)

### ì¤‘ê¸° ê°œì„  ì‚¬í•­
- ë‹¤ìŒ í•´ ëª©í‘œ ë³µì‚¬ ê¸°ëŠ¥
- ëª©í‘œ ê³µìœ  (ê³µê°œ/ë¹„ê³µê°œ)
- ì´ë©”ì¼ ë¦¬ë§ˆì¸ë”

### ì¥ê¸° ê°œì„  ì‚¬í•­
- REST API ë¶„ë¦¬
- React/Vue.js í”„ë¡ íŠ¸ì—”ë“œ
- PWA ì „í™˜

## í¬íŠ¸í´ë¦¬ì˜¤ í™œìš© í¬ì¸íŠ¸

### 1. ê¸°ìˆ  ì—­ëŸ‰ ì¦ëª…
- **PHP 8 ìµœì‹  ë¬¸ë²• í™œìš©**: íƒ€ì… íŒíŒ…, ë„ ë³‘í•© ì—°ì‚°ì, Arrow Function
- **OOP ì„¤ê³„**: ëª¨ë¸ í´ë˜ìŠ¤ ê¸°ë°˜ êµ¬ì¡°
- **ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„**: ì •ê·œí™”, íŠ¸ë¦¬ê±°, ë·° í™œìš©

### 2. ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ êµ¬í˜„
- **ìë™ ê³„íš ë¶„í•´ ë¡œì§**: ëª©í‘œë¥¼ ìë™ìœ¼ë¡œ 12ê°œì›”ë¡œ ë¶„í•´
- **ì§„í–‰ë¥  ê³„ì‚° ì—”ì§„**: ì‹¤ì‹œê°„ ìë™ ê³„ì‚° ë° ìƒíƒœ ê´€ë¦¬
- **íšŒê³  ì‹œìŠ¤í…œ**: ì„±ì°°ì„ í†µí•œ ëª©í‘œ ë‹¬ì„± ì´‰ì§„

### 3. ì‹¤ë¬´ ì ìš© ê°€ëŠ¥
- **ë³´ì•ˆ ê³ ë ¤**: SQL Injection, XSS ë°©ì§€
- **í™•ì¥ ê°€ëŠ¥í•œ êµ¬ì¡°**: MVC íŒ¨í„´ ì ìš©
- **ìœ ì§€ë³´ìˆ˜ì„±**: ì½”ë“œ í‘œì¤€ ì¤€ìˆ˜, ëª…í™•í•œ ë„¤ì´ë°

## ë©´ì ‘ ëŒ€ë¹„ ì„¤ëª… ë¬¸êµ¬

> "ì‹ ë…„ê³„íš ê´€ë¦¬ ì›¹ ì„œë¹„ìŠ¤ëŠ” PHP 8ê³¼ MySQLì„ í™œìš©í•˜ì—¬ êµ¬í˜„í•œ ëª©í‘œ ê´€ë¦¬ ì‹œìŠ¤í…œì…ë‹ˆë‹¤.
>
> í•µì‹¬ ì°¨ë³„ì ì€ **ì„œë²„ ì¸¡ ìë™í™” ë¡œì§**ì— ìˆìŠµë‹ˆë‹¤. ì‚¬ìš©ìê°€ ëª©í‘œë¥¼ ìƒì„±í•˜ë©´, ì„œë²„ì—ì„œ ìë™ìœ¼ë¡œ 12ê°œì›” ê³„íšì„ ìƒì„±í•˜ê³  ë¶„ê¸°ë³„ë¡œ ê·¸ë£¹í™”í•©ë‹ˆë‹¤. ë˜í•œ DB íŠ¸ë¦¬ê±°ë¥¼ í™œìš©í•˜ì—¬ ê³„íš ì™„ë£Œ ì‹œ ìë™ìœ¼ë¡œ ì§„í–‰ë¥ ì„ ì¬ê³„ì‚°í•˜ê³  ëª©í‘œ ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.
>
> ë³´ì•ˆ ì¸¡ë©´ì—ì„œëŠ” PDO Prepared Statementsë¡œ SQL Injectionì„ ë°©ì§€í•˜ê³ , password_hashë¥¼ í†µí•œ ì•ˆì „í•œ ë¹„ë°€ë²ˆí˜¸ ê´€ë¦¬, XSS ë°©ì§€ë¥¼ ìœ„í•œ ì…ë ¥ ê²€ì¦ì„ ì ìš©í–ˆìŠµë‹ˆë‹¤.
>
> ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì •ê·œí™”ë¥¼ í†µí•´ ì„¤ê³„í–ˆìœ¼ë©°, users - goals - goal_plans - reflectionsì˜ ê´€ê³„ë¥¼ ëª…í™•íˆ í–ˆìŠµë‹ˆë‹¤. íŠ¹íˆ goal_plans í…Œì´ë¸”ì— (goal_id, month) UNIQUE KEYë¥¼ ì„¤ì •í•˜ì—¬ ë°ì´í„° ë¬´ê²°ì„±ì„ ë³´ì¥í–ˆìŠµë‹ˆë‹¤.
>
> ì´ í”„ë¡œì íŠ¸ë¥¼ í†µí•´ PHP ë°±ì—”ë“œ ê°œë°œ ì—­ëŸ‰, ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„ ëŠ¥ë ¥, ê·¸ë¦¬ê³  ì‚¬ìš©ì ì¤‘ì‹¬ì˜ ì„œë¹„ìŠ¤ ê¸°íš ëŠ¥ë ¥ì„ ì¦ëª…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."

## ë¼ì´ì„ ìŠ¤

MIT License

## ê°œë°œì

- ê°œë°œ ê¸°ê°„: 2026ë…„ 1ì›”
- ê°œë°œì: ê¹€ê¸°ì°¬   
- ë¬¸ì˜: kimkichan1225@gmail.com

---

**í¬íŠ¸í´ë¦¬ì˜¤ ì œì¶œ ì‹œ í•¨ê»˜ ì œê³µí•  ìë£Œ:**
1. ì´ README íŒŒì¼
2. ì£¼ìš” ê¸°ëŠ¥ ìŠ¤í¬ë¦°ìƒ·
3. DB ERD ë‹¤ì´ì–´ê·¸ë¨
4. í•µì‹¬ ì½”ë“œ ì„¤ëª… ë¬¸ì„œ (PROJECT_DESIGN.md)
